;LED TOGGLE

#include <reg51.h>

sbit led = P2^0;   

void delay() {
    unsigned int i, j;
    for (i = 0; i < 10; i++) {
        for (j = 0; j < 1000; j++);
    }
}

void main() {
    while (1){
      led =~ led;
	  delay();

    }
}





;LED TOGGLE USING TIMERS

#include<reg51.h>

sbit led = P2^4;

void delay(){
	TMOD = 0x01;
	TH0 = 0xF4;
	TL0 = 0xDC;
	TR0 = 1;
	while(TF0 == 0);
	TR0 = 0;
	TF0 = 0; 
}

void main(){
	led = 1;
	while(1){
		led =~ led;
		delay();
	}
}





;BASIC LCD PRINTING

ORG 0000H

ACALL LCD_INIT
MOV DPTR, #MESSAGE

PRINT:
    MOV A, #00H
    MOVC A, @A+DPTR
    JZ HALT
    ACALL LCD_DATA
    INC DPTR
    SJMP PRINT

HALT:
    SJMP HALT

LCD_INIT:
    MOV A, #38H
    ACALL COMMAND
    MOV A, #0EH
    ACALL COMMAND
    MOV A, #01H
    ACALL COMMAND
    ACALL DELAY
    RET

COMMAND:
    ACALL DELAY
    MOV P1, A
    CLR P2.0
    SETB P2.1
    CLR P2.1
    RET

LCD_DATA:
    ACALL DELAY
    MOV P1, A
    SETB P2.0
    SETB P2.1
    CLR P2.1
    RET

DELAY:
    MOV R1, #0FFH
LOOP1:
    MOV R2, #0FFH
LOOP2:
    DJNZ R2, LOOP2
    DJNZ R1, LOOP1
    RET

MESSAGE:
    DB 'ABC123', 00H

END





;8 BIT COUNTER

ORG 0000H

MOV A, #30H
MOV 30H, A
ACALL LCD_INIT

PRINT:
    MOV A, 30H
    MOV P3, #80H
    CLR P2.0
    SETB P2.1
    CLR P2.1
    ACALL DELAY

    MOV A, 30H
    MOV P3, A
    SETB P2.0
    SETB P2.1
    CLR P2.1
    ACALL DELAY
    INC 30H
    SJMP PRINT

HALT:
    SJMP HALT

LCD_INIT:


    MOV A, #38H
    ACALL COMMAND
    ACALL DELAY
    MOV A, #0EH
    ACALL COMMAND
    ACALL DELAY
    MOV A, #01H
    ACALL COMMAND
    RET
												
COMMAND:
    ACALL DELAY
    MOV P3, A
    CLR P2.0
    SETB P2.1
    CLR P2.1
    RET

DELAY:
    MOV R1, #0FFH
LOOP1:
    MOV R2, #0FFH
LOOP2:
    MOV R3, #01H
LOOP3:
    DJNZ R3, LOOP3
    DJNZ R2, LOOP2
    DJNZ R1, LOOP1
    RET

END



